# Проектная работа "Веб-ларек"

https://github.com/denisatamankin/web-larek-frontend.git

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Описание проекта

Интернет-магазин с товарами для веб-разработчиков — Web-ларёк. В нём можно посмотреть каталог товаров, добавить товары в корзину и сделать заказ.

## Описание архитектуры проекта

Архитектура Model-View-Presenter (MVP) — это шаблон проектирования, который разделяет приложение на три компонента:

Model — модель данных приложения, которая отвечает за хранение и обработку информации.
View — представление, которое отображает данные пользователю и позволяет ему взаимодействовать с приложением.
Presenter — посредник между моделью и представлением, который обрабатывает пользовательские события и обновляет представление в соответствии с изменениями модели.

## Базовый код

### Класс API

Обеспечивает работу с данными с сервера, он отвечает за отправку HTTP-запросов и обработку ответов от сервера.

#### Методы
  - `get` - отправляет GET-запрос к указанному URI;
  - `post` - отправляет POST-запрос к указанному URI;

### Класс EventEmitter

Класс для управления событиями и подписчиками. Может установить и снять слушатели событий, вызвать слушателей при возникновении события.

#### Методы
  - `on` - устанавливает обработчик на событие;
  - `off` - снимает обработчик с события;
  - `emit` - иницирует событие с указанным именем и  данными;
  - `onAll` - позволяет установить обработчик на все события;
  - `offAll` - удаляет все установленные обработчики событий;
  - `trigger` - коллбек триггер, генерирующий событие при вызове;

### Класс ComponentView

Базовый компонент, обеспечивает работу с DOM-элементами. Отвечает за отображение элементов  на странице.

#### Методы
  - `toggleClass` - переключает класс у элемента;
  - `setText` - устанавливает текстовое содержимое элемента;
  - `setDisabled` -  устанавливает или удаляет атрибут disabled;
  - `setHidden` - cкрывает элемент;
  - `setVisible` - делает элемент видимым;
  - `setImage` - yстанавливает изображение и альтернативный текст для него;
  - `render` - вернуть корневой DOM-элемент;

### Класс Model

Базовый класс для моделей в приложении

#### Методы
  - `emitChanges` - используется для уведомления о изменениях в модели;

## Компоненты модели данных

### Класс Basket

Расширяет класс Model.
Отвечает за работу с данными корзины.

#### Методы
  - `getBasket` - возвращает массив товаров, которые находятся в корзине;
  - `addProduct` - добавляет продукт в корзину;
  - `removeProduct` - удаляет продукт из корзины;
  - `clearBasket` - очищает все товары из корзины;
  - `getTotalPrice` - рассчитывает и возвращает общую стоимость товаров в корзине;

### Класс Catalog

Расширяет класс Model.
Хранит данные о каталоге товаров.

#### Методы
  - `setCatalog` - устанавливает каталог товаров и общее количество доступных товаров;

### Класс Order

Расширяет класс Model.
Хранит данные о заказе пользователя.

#### Методы
  - `setOrderField` - принимает и устанавливает значение определенного поля в объекте заказа;
  - `validateOrder` - осуществляет проверку данных;
  - `clearOrder` - очищает информацию о текущем заказе;

## Компоненты представления

### Класс PageView

Расширяет класс ComponentView.
Отвечает за отображение и управление элементами страницы.

#### Поля класса
  - `_counter: HTMLElement` - элемент для отображения количества товаров в корзине;
  - `_catalog: HTMLElement` - элемент отображения каталога товаров;    
  - `_wrapper: HTMLElement` - элемент-обертка основного контента страницы;
  - `_buttonBasket: HTMLButtonElement` - кнопка для перехода в корзину;

#### Методы
  - `set catalog` - обновляет каталог товаров на странице;
  - `set counter(value: number)` - устанавливает счетчик товаров в корзине;    
  - `set pageLock(value: boolean)` - происходит блокировка или разблокировка страницы;

### Класс CardView

Расширяет класс ComponentView.
Отвечает за отображение карточки товара.
Устанавливает  название, цену, изображение, описание и категорию товара. Содержит сеттеры и геттеры для работы с полями.

#### Поля класса
  - `_title: HTMLElement` - элемент для отображения заголовка;
  - `_price: HTMLElement` - элемент отображения цены товара;    
  - `_description: HTMLElement` - элемент для отображения описания;
  - `_category: HTMLElement` - элемент для отображения категории товара;
  - `_button: HTMLButtonElement` - кнопка для добавления товара в корзину;
  - `_image: HTMLImageElement` - кнопка для перехода в корзину;

#### Методы
  - `set title(value: string)` - сеттер названия товара;
  - `get title(): string` - геттер названия товара;
  - `set price(value: number)` - сеттер изображения карточки;    
  - `set image(src: string)` - сеттер изображения карточки;
  - `set description(value: string)` - сеттер описания товвара;
  - `set category(value: string)` - сеттер категории товара;

### Класс CardModalView

Расширяет класс CardView.
Отвечает за отображения товара в модальном окне. Показывает доступность продукта.

#### Методы
  - `set inBasket(value: boolean)` - сеттер наличия товара в корзине;

### Класс Modal

Расширяет класс ComponentView.
Отображает универсальное модальное окно с кнопкой закрытия.

#### Поля класса
  - `_content: HTMLElement` - элемент для отображения контента модального окна;
  - `_closeButton: HTMLButtonElement` - кнопка для закрытия модального окна;

#### Методы
  - `open()` - сеттер наличия товара в корзине;
  - `close()` - сеттер наличия товара в корзине;
  - `render(data: IModalData): HTMLElement` - отображение модального окна;

### Класс BasketView

Расширяет класс ComponentView.
Отвечает за отображение данных корзины.

#### Поля класса
  - `_list: HTMLElement` - элемент для отображения списка товаров;
  - `_totalPrice: HTMLElement` - элемент для отображения итоговой цены;
  - `_button: HTMLButtonElement` - кнопка для оформления заказа;

#### Методы
  - `set totalPrice(value: number)` - сеттер итоговой цены;
  - `set products` - сеттер списка товаров;

### Класс Form

Расширяет класс ComponentView.
Отображает компонент формы, обрабатывает ввод данных и отправку формы.

#### Поля класса
  - `_errors: HTMLElement` - элемент для вывода ошибок;
  - `_submit: HTMLButtonElement` - кнопка для отправки формы;

#### Методы
  - `onInputChange()` - отслеживание изменений в поле ввода;
  - `render()` - обновляет состояние формы;
  - `set valid(value: boolean)` - сеттер состояния кнопки отправки;
  - `set errors(value: string)` - сеттер сообщения об ошибках;

### Класс PaymentFormView

Расширяет класс Form.
Отвечает за отображение формы ввода выбора способа оплаты и адреса доставки пользователя.

#### Методы
- `set address(value: string)` - сеттер адреса доставки;
- `set payment` - сеттер способа оплаты;

### Класс ContactFormView

Расширяет класс Form.
Отвечает за отображение формы ввода электронной почты и номера телефона пользователя.

#### Методы
- `set phone(value: string)` - сеттер номера телефона;
- `set email(value: string)` - сеттер адреса электронной почты ;

### Класс SuccessView

Расширяет класс ComponentView.
Отвечает за отображение сообщения об успешно завершенном заказе.

#### Поля класса
  - `_tomain: HTMLButtonElement` - кнопка закрытия окна;

#### Методы
  - `set total(value: number)` - сеттер списанной суммы;